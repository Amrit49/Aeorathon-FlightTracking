<!DOCTYPE html>
<html>
<head>
    <title>Flight Health Monitoring</title>
    <style>
        .parameter {
            margin: 10px 0;
        }
        .alert {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Flight Health Monitoring</h1>
    <div id="flightData"></div>
    <div id="alerts"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        socket.on('flightData', (data) => {
            document.getElementById('flightData').innerHTML = `
                <div class="parameter">Altitude: ${data.altitude} feet</div>
                <div class="parameter">Speed: ${data.speed} knots</div>
                <div class="parameter">Engine Temperature: ${data.engineTemperature} Â°C</div>
                <div class="parameter">Turbine Pressure: ${data.turbinePressure} psi</div>
                <div class="parameter">Fuel Level: ${data.fuelLevel} liters</div>
                <div class="parameter">Cabin Pressure: ${data.cabinPressure} psi</div>
                <div class="parameter">Hydraulic Fluid Level: ${data.hydraulicFluidLevel} liters</div>
                <div class="parameter">Oil Pressure: ${data.oilPressure} psi</div>
            `;

            checkAlerts(data);
        });

        function checkAlerts(data) {
            const alerts = [];
            if (data.altitude < 1000 || data.altitude > 40000) alerts.push(`Altitude is out of safe range: ${data.altitude}`);
            if (data.speed < 0 || data.speed > 600) alerts.push(`Speed is out of safe range: ${data.speed}`);
            if (data.engineTemperature > 1000) alerts.push(`Engine Temperature is out of safe range: ${data.engineTemperature}`);
            if (data.turbinePressure < 20 || data.turbinePressure > 60) alerts.push(`Turbine Pressure is out of safe range: ${data.turbinePressure}`);
            if (data.fuelLevel < 500) alerts.push(`Fuel Level is out of safe range: ${data.fuelLevel}`);
            if (data.cabinPressure < 11 || data.cabinPressure > 15) alerts.push(`Cabin Pressure is out of safe range: ${data.cabinPressure}`);
            if (data.hydraulicFluidLevel < 2 || data.hydraulicFluidLevel > 5) alerts.push(`Hydraulic Fluid Level is out of safe range: ${data.hydraulicFluidLevel}`);
            if (data.oilPressure < 20 || data.oilPressure > 50) alerts.push(`Oil Pressure is out of safe range: ${data.oilPressure}`);

            const alertsDiv = document.getElementById('alerts');
            if (alerts.length > 0) {
                alertsDiv.innerHTML = alerts.map(alert => `<div class="alert">${alert}</div>`).join('');
            } else {
                alertsDiv.innerHTML = '<div>All parameters are within safe ranges.</div>';
            }
        }
    </script>
</body>
</html>
